<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Canseza Avağ Erdurak">

<title>BDA503 Final Exam</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="final_exam_files/libs/clipboard/clipboard.min.js"></script>
<script src="final_exam_files/libs/quarto-html/quarto.js"></script>
<script src="final_exam_files/libs/quarto-html/popper.min.js"></script>
<script src="final_exam_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="final_exam_files/libs/quarto-html/anchor.min.js"></script>
<link href="final_exam_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="final_exam_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="final_exam_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="final_exam_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="final_exam_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">BDA503 Final Exam</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Canseza Avağ Erdurak </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">Jan 5, 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cranlogs)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="part-i-short-and-simple" class="level1">
<h1>Part I: Short and Simple</h1>
<section id="the-impact-of-generative-ai-to-our-world" class="level2">
<h2 class="anchored" data-anchor-id="the-impact-of-generative-ai-to-our-world">1.The Impact of Generative AI to Our World</h2>
<p>It is possible that generative AI could potentially automate certain business tasks that currently require human input or decision-making. However, it is important to note that AI is still a long way off from being able to completely replace human workers in most cases. While AI can be very effective at automating certain tasks, it is generally not as good as humans at tasks that require complex problem-solving, creativity, or interpersonal skills.</p>
<p>Overall, it is likely that generative AI will continue to be adopted by businesses as a way to improve efficiency and streamline certain tasks, but it is unlikely to completely replace human workers in most cases. Instead, it is more likely that generative AI will augment human capabilities and allow workers to focus on more complex and higher-level tasks.</p>
</section>
<section id="steps-for-automating-a-process" class="level2">
<h2 class="anchored" data-anchor-id="steps-for-automating-a-process">2.Steps for Automating a Process</h2>
<p>Actually I am obsessed with automating tasks. When I start a task automation, it is like the tip of the iceberg. Business units mostly underestimate the importance of automation and have a hard time defining steps. However, if task automation succeeds and they are relieved from boring tasks, they ask for more.</p>
<p>Analysis documentation is needed about how manual steps are performed by business units. If the analysis document is not well enough, I sometimes prefer to work side-by-side with business units at the beginning of the project to understand them better.&nbsp;</p>
<p>Once I understand the process, I analyze which tables are required, how they will be used to serve our needs, which tables are created by business units in excel sheets since they are not available in the source, which packages I will develop, how scheduling will be and in which tool the frequent reports will be given.</p>
<p>Then, I start development. After development, I want business units to bring on test scenarios. They test the outcome carefully. Bug-fix is made if there is any. Afterwards, the project go live. Since optimization is an important aspect for low-cost airlines, I measure the effectiveness of the project with the help of business units.</p>
</section>
<section id="visualization-of-daily-downloads" class="level2">
<h2 class="anchored" data-anchor-id="visualization-of-daily-downloads">3.Visualization of Daily Downloads</h2>
<p>If I had to plot a single graph by using this data, it would be like below. Because, it shows all details in the data at first glance. Shiny is the most downloaded package in November 2022. Rmarkdown and tidyverse have similar patterns even though rmarkdown has certain peaks. Reticulate is the least popular package among others. In addition, peaks are observed during the weekdays except for Reticulate since people work in the weekdays.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> cranlogs<span class="sc">::</span><span class="fu">cran_downloads</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="at">packages=</span><span class="fu">c</span>(<span class="st">"tidyverse"</span>,<span class="st">"shiny"</span>,<span class="st">"rmarkdown"</span>,<span class="st">"reticulate"</span>),</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="at">from=</span><span class="st">"2022-11-01"</span>,<span class="at">to=</span><span class="st">"2022-11-30"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> count)) <span class="sc">+</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> package) <span class="sc">+</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Daily Downloads of Some R Packages"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="final_exam_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="part-ii-extending-your-group-project" class="level1">
<h1>Part II: Extending Your Group Project</h1>
<p>We mentioned the <strong>stereotypical gender structure</strong> in Turkey that emphasizes women are house-keepers, men are bread-winners. Also, some jobs are considered as men’s; some are women’s. This graph displays the number of employed men over women’ by occupation. Men have higher dominance over females in occupations that are <strong>Managers</strong>, <strong>Plant and Machine Operators and Assemblers</strong>, <strong>Craft and Related Trades Workers</strong>. There is no distinction between men and women employment in low profile jobs in the service industry like <strong>Clerical Support Workers, Elementary Occupations</strong>. Occupation ratio for <strong>Professionals</strong> is also 1 that has a similar pattern with low profile jobs. Since education level increases in women over years, women have a chance to be employed equally as Professionals.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>employment_by_occup_group <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Employment_by_occup_group.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  employment_by_occup_group <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(gender, year), <span class="at">values_to =</span> <span class="st">"number_of_employed"</span>, <span class="at">names_to =</span> <span class="st">"occupation"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(occupation <span class="sc">!=</span> <span class="st">"Employed"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">values_from =</span> <span class="st">"number_of_employed"</span>, <span class="at">names_from =</span> <span class="st">"gender"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">occupation_ratio =</span> Male <span class="sc">/</span> Female)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> occupation_ratio)) <span class="sc">+</span> </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> occupation) <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle=</span><span class="dv">90</span>,<span class="at">vjust=</span><span class="dv">1</span>,<span class="at">hjust=</span><span class="dv">1</span>, <span class="at">size=</span><span class="dv">5</span>)) <span class="sc">+</span> </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="fu">min</span>(df2<span class="sc">$</span>year)<span class="sc">:</span><span class="fu">max</span>(df2<span class="sc">$</span>year))) <span class="sc">+</span> </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle=</span><span class="dv">90</span>,<span class="at">vjust=</span><span class="dv">1</span>,<span class="at">hjust=</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">strip.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">4</span>)) <span class="sc">+</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Occupation Ratio"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="final_exam_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="part-iii-welcome-to-real-life" class="level1">
<h1>Part III: Welcome to Real Life</h1>
<section id="a.data-wrangling" class="level2">
<h2 class="anchored" data-anchor-id="a.data-wrangling">a.Data Wrangling</h2>
<p>Raw data is fetched and stored in <strong>airport_tran</strong> dataframe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>airport_tran <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">"tuik_transportation_by_airport.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then, it is saved it in <strong>RData</strong> format.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(airport_tran, <span class="at">file =</span> <span class="st">"airport_tran.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="at">file =</span> <span class="st">"airport_tran.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a href="https://github.com/pjournal/mef06-avagcanseza/tree/main/docs">Here you can click to reach RData.</a></p>
</section>
<section id="b.eda" class="level2">
<h2 class="anchored" data-anchor-id="b.eda">b.EDA</h2>
<p>I took a high-level look at raw data which has 29 columns and 882 rows. In addition, I observed column names and data types.</p>
<p>This EDA is performed by filtering on year and airport columns. I have worked in Pegasus since 2018. Pegasus put high emphasis on these stations since they yield a great deal of revenue among other domestic stations. Also, I took into account years after 2010 since all airports that I included in the analysis have data afterwards.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(airport_tran)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 882
Columns: 28
$ airport                                      &lt;chr&gt; "Total", "Total", "Total"…
$ year                                         &lt;chr&gt; "2004", "2005", "2006", "…
$ aircraft_traffic_all_landings_and_takeoffs   &lt;dbl&gt; 440238, 534087, 594749, 6…
$ aircraft_traffic_domestic_turkish            &lt;dbl&gt; 150550, 205316, 260557, 2…
$ aircraft_traffic_international_turkish       &lt;dbl&gt; 128246, 143693, 145454, 1…
$ aircraft_traffic_international_foreign       &lt;dbl&gt; 110626, 122628, 116774, 1…
$ aircraft_traffic_international_noncommercial &lt;dbl&gt; 50816, 62450, 71964, 6915…
$ passengers_total                             &lt;dbl&gt; 44789140, 54525727, 58778…
$ domestic_landing_passengers                  &lt;dbl&gt; 7286286, 10077446, 134210…
$ domestic_takeoff_passengers                  &lt;dbl&gt; 7141683, 9865246, 1322337…
$ international_landing_passengers             &lt;dbl&gt; 15056297, 17041275, 15980…
$ international_takeoff_passengers             &lt;dbl&gt; 15304874, 17541760, 16153…
$ total_load                                   &lt;dbl&gt; 1126107, 1249555, 1279340…
$ freight_total                                &lt;dbl&gt; 324588, 331116, 348722, 3…
$ baggage_total                                &lt;dbl&gt; 797992, 914943, 924053, 1…
$ mail_total                                   &lt;dbl&gt; 3527, 3496, 6565, 11732, …
$ domestic_landing_freight                     &lt;dbl&gt; 35042, 36232, 34934, 3605…
$ domestic_landing_baggage                     &lt;dbl&gt; 96831, 121519, 149880, 15…
$ domestic_takeoff_mail                        &lt;dbl&gt; 988, 735, 907, 2547, 2499…
$ domestic_takeoff_freight                     &lt;dbl&gt; 35956, 35972, 35387, 3638…
$ domestic_takeoff_baggage                     &lt;dbl&gt; 93359, 120941, 148487, 15…
$ domestic_landing_mail                        &lt;dbl&gt; 467, 459, 1024, 3431, 334…
$ international_landing_freight                &lt;dbl&gt; 112768, 119280, 134239, 1…
$ international_landing_baggage                &lt;dbl&gt; 286630, 317585, 298004, 3…
$ international_landing_mail                   &lt;dbl&gt; 1246, 1433, 2288, 2850, 3…
$ international_takeoff_freight                &lt;dbl&gt; 140822, 139632, 144162, 1…
$ international_takeoff_baggage                &lt;dbl&gt; 321172, 354898, 327682, 3…
$ international_takeoff_mail                   &lt;dbl&gt; 826, 869, 2346, 2904, 314…</code></pre>
</div>
</div>
<p>This graph shows the passenger ratio by operation type over years (2010-2021). Domestic passenger ratio for domestic is higher than that of international except for Antalya. Ratios are overlapping for Mugla (Milas-Bodrum) in 2013-2014. In total, the passenger ratio is in the level of 50%.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>  df3 <span class="ot">&lt;-</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  airport_tran <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(airport <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Total'</span>, <span class="st">'İstanbul (Sabiha Gokcen)'</span>, <span class="st">'İzmir (Adnan Menderes)'</span>, <span class="st">'Mugla (Milas-Bodrum)'</span>, <span class="st">'Ankara (Esenboga)'</span>, <span class="st">'Antalya'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&gt;=</span> <span class="dv">2010</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">domestic =</span> (domestic_landing_passengers<span class="sc">+</span>domestic_takeoff_passengers)<span class="sc">/</span>passengers_total) <span class="sc">%&gt;%</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">international =</span> (international_landing_passengers<span class="sc">+</span>international_takeoff_passengers)<span class="sc">/</span>passengers_total) <span class="sc">%&gt;%</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(airport, year, domestic, international)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>  df3 <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> domestic, <span class="at">group=</span><span class="dv">1</span>, <span class="at">colour=</span><span class="st">"domestic"</span>)) <span class="sc">+</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> international, <span class="at">group=</span><span class="dv">1</span>, <span class="at">colour=</span><span class="st">"international"</span>)) <span class="sc">+</span> </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> airport) <span class="sc">+</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle=</span><span class="dv">90</span>,<span class="at">vjust=</span><span class="dv">1</span>,<span class="at">hjust=</span><span class="dv">1</span>, <span class="at">size=</span><span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">strip.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"operation_type"</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"domestic"</span> <span class="ot">=</span> <span class="st">"darkblue"</span>, <span class="st">"international"</span> <span class="ot">=</span> <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"ratio"</span>) <span class="sc">+</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Passenger Ratio by Operation Type"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="final_exam_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This chart displays the load type ratio over years (2010-2021). Baggage load has a higher rate than freight load for 5 airports in general. Mail load ratio is quite low compared to other load types. In total, a different pattern is observed. Until 2019, baggage load is higher than freight load. However, freight load is well ahead of the baggage load in 2020. COVID-19 related travel restrictions had been applied in 2020, baggage load ratio decreased. In 2021, there is balance between baggage and freight ratio.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df4 <span class="ot">&lt;-</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  airport_tran <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(airport <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Total'</span>, <span class="st">'İstanbul (Sabiha Gokcen)'</span>, <span class="st">'İzmir (Adnan Menderes)'</span>, <span class="st">'Mugla (Milas-Bodrum)'</span>, <span class="st">'Ankara (Esenboga)'</span>, <span class="st">'Antalya'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&gt;=</span> <span class="dv">2017</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">freight_ratio =</span> freight_total<span class="sc">/</span>total_load, <span class="at">baggage_ratio =</span> baggage_total <span class="sc">/</span> total_load, <span class="at">mail_ratio =</span> mail_total <span class="sc">/</span> total_load) <span class="sc">%&gt;%</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(airport, year, <span class="at">freight =</span> freight_ratio, <span class="at">baggage =</span> baggage_ratio, <span class="at">mail =</span> mail_ratio) <span class="sc">%&gt;%</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(airport, year), <span class="at">values_to =</span> <span class="st">"load"</span>, <span class="at">names_to =</span> <span class="st">"load_type"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>df4 <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> load, <span class="at">fill =</span> <span class="fu">reorder</span>(load_type, load))) <span class="sc">+</span> </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position=</span><span class="st">"stack"</span>, <span class="at">stat=</span><span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> airport) <span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle=</span><span class="dv">90</span>,<span class="at">vjust=</span><span class="dv">1</span>,<span class="at">hjust=</span><span class="dv">1</span>), <span class="at">legend.position=</span><span class="st">"top"</span>, <span class="at">legend.title=</span><span class="fu">element_blank</span>()) <span class="sc">+</span> </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"ratio"</span>) <span class="sc">+</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Load Type Ratio"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="final_exam_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This graph shows freight carried in tons by operation type over years (2010-2021). Freight carried in International Routes higher than the domestic ones in Antalya and Istanbul (Sabiha Gokcen). Ankara and İzmir (Adnan Menderes) airports have an opposite pattern. Lines overlap for Mugla (Milas-Bodrum) and ratios are quite low compared to other airports. 2019 is the golden age of the aviation industry. So, the freight load peaked in 2019 especially for Antalya.&nbsp;In 2020, a sharp decrease is observed in the freight load due to pandemics.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df5 <span class="ot">&lt;-</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  airport_tran <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(airport <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'İstanbul (Sabiha Gokcen)'</span>, <span class="st">'İzmir (Adnan Menderes)'</span>, <span class="st">'Mugla (Milas-Bodrum)'</span>, <span class="st">'Ankara (Esenboga)'</span>, <span class="st">'Antalya'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&gt;=</span> <span class="dv">2010</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">domestic =</span> (domestic_landing_freight <span class="sc">+</span> domestic_landing_baggage <span class="sc">+</span> domestic_takeoff_mail <span class="sc">+</span> domestic_takeoff_freight <span class="sc">+</span> domestic_takeoff_baggage <span class="sc">+</span> domestic_landing_mail)<span class="sc">/</span><span class="dv">100000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">international =</span> (international_landing_freight <span class="sc">+</span> international_landing_baggage <span class="sc">+</span> international_takeoff_mail <span class="sc">+</span> international_takeoff_freight <span class="sc">+</span> international_takeoff_baggage <span class="sc">+</span> international_landing_mail)<span class="sc">/</span><span class="dv">100000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(airport, year, domestic, international)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>  df5 <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> domestic, <span class="at">group=</span><span class="dv">1</span>, <span class="at">colour=</span><span class="st">"domestic"</span>)) <span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> international, <span class="at">group=</span><span class="dv">1</span>, <span class="at">colour=</span><span class="st">"international"</span>)) <span class="sc">+</span> </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> airport) <span class="sc">+</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle=</span><span class="dv">90</span>,<span class="at">vjust=</span><span class="dv">1</span>,<span class="at">hjust=</span><span class="dv">1</span>, <span class="at">size=</span><span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">strip.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"operation_type"</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"domestic"</span> <span class="ot">=</span> <span class="st">"darkblue"</span>, <span class="st">"international"</span> <span class="ot">=</span> <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Tons*100000"</span>) <span class="sc">+</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Freight Load in Tons by Operation Type"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="final_exam_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>